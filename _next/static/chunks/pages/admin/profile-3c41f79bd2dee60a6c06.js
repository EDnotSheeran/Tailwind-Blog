(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[172],{4928:function(e,n,r){"use strict";r.r(n);var s=r(5893),t=r(809),a=r.n(t),c=r(2447),i=r(9227),u=r(5988),l=r(7294),o=r(1163),f=r(2174),d=r(3151),p=function(){var e=(0,f.a)(),n=(0,i.Z)(e,2),r=n[0],t=n[1].mutate,d=(0,l.useRef)(null);(0,l.useEffect)((function(){r&&d.current&&(d.current.value=r.name)}),[r]);var p=function(){var e=(0,c.Z)(a().mark((function e(n){var r,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={name:d.current?d.current.value:""},e.next=4,fetch("/api/user",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:return s=e.sent,e.next=7,s.json();case 7:c=e.sent,t(c);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function x(){return(x=(0,c.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user",{method:"DELETE"});case 2:204===e.sent.status&&(t({user:null}),o.default.replace("/"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"jsx-2186873671 form-container",children:(0,s.jsxs)("form",{onSubmit:p,className:"jsx-2186873671",children:[(0,s.jsxs)("label",{className:"jsx-2186873671",children:[(0,s.jsx)("span",{className:"jsx-2186873671",children:"Name"}),(0,s.jsx)("input",{type:"text",ref:d,required:!0,className:"jsx-2186873671 border-2 border-gray-500"})]}),(0,s.jsxs)("div",{className:"jsx-2186873671 submit",children:[(0,s.jsx)("button",{type:"submit",className:"jsx-2186873671",children:"Update profile"}),(0,s.jsx)("a",{role:"button",onClick:function(){return x.apply(this,arguments)},className:"jsx-2186873671 delete",children:"Delete profile"})]})]})}),(0,s.jsx)(u.default,{id:"2186873671",children:[".delete.jsx-2186873671{color:#f44336;cursor:pointer;}",".delete.jsx-2186873671:hover{color:#b71c1c;}"]})]})},x=function(){var e=(0,f.a)(),n=(0,i.Z)(e,2),r=n[0],t=n[1].loading;return(0,l.useEffect)((function(){t||r||o.default.replace("/login")}),[r,t]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"jsx-3817476767",children:"Profile"}),r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"jsx-3817476767",children:"Your session:"}),(0,s.jsx)("pre",{className:"jsx-3817476767",children:JSON.stringify(r,null,2)}),(0,s.jsx)(p,{})]}),(0,s.jsx)(u.default,{id:"3817476767",children:["pre.jsx-3817476767{white-space:pre-wrap;word-wrap:break-word;}"]})]})};n.default=x,x.getLayout=function(e){return(0,s.jsx)(d.Ar.Login,{children:e})}},8334:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/profile",function(){return r(4928)}])},1163:function(e,n,r){e.exports=r(4651)}},function(e){e.O(0,[774,888,179],(function(){return n=8334,e(e.s=n);var n}));var n=e.O();_N_E=n}]);